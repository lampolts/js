/*!
 * jqPagination, a jQuery pagination plugin (obviously)
 * Version: 1.4 (26th July 2013)
 */if(function(e){"use strict";e.jqPagination=function(a,n){var t=this;t.$el=e(a),t.el=a,t.$input=t.$el.find("input"),t.$el.data("jqPagination",t),t.init=function(){t.options=e.extend({},e.jqPagination.defaultOptions,n),null===t.options.max_page&&(void 0!==t.$input.data("max-page")?t.options.max_page=t.$input.data("max-page"):t.options.max_page=1),void 0!==t.$input.data("current-page")&&t.isNumber(t.$input.data("current-page"))&&(t.options.current_page=t.$input.data("current-page")),t.$input.removeAttr("readonly"),t.updateInput(!0),t.$input.on("focus.jqPagination mouseup.jqPagination",function(a){if("focus"===a.type){var n=parseInt(t.options.current_page,10);e(this).val(n).select()}if("mouseup"===a.type)return!1}),t.$input.on("blur.jqPagination keydown.jqPagination",function(a){var n=e(this),i=parseInt(t.options.current_page,10);27===a.keyCode&&(n.val(i),n.blur()),13===a.keyCode&&n.blur(),"blur"===a.type&&t.setPage(n.val())}),t.$el.on("click.jqPagination","a",function(a){var n=e(this);if(n.hasClass("disabled"))return!1;a.metaKey||a.ctrlKey||(a.preventDefault(),t.setPage(n.data("action")))})},t.setPage=function(e,a){if(void 0===e)return t.options.current_page;var n=parseInt(t.options.current_page,10),i=parseInt(t.options.max_page,10);if(isNaN(parseInt(e,10)))switch(e){case"first":e=1;break;case"prev":case"previous":e=n-1;break;case"next":e=n+1;break;case"last":e=i}if(e=parseInt(e,10),isNaN(e)||e<1||e>i)return t.setInputValue(n),!1;t.options.current_page=e,t.$input.data("current-page",e),t.updateInput(a)},t.setMaxPage=function(e,a){return void 0===e?t.options.max_page:t.isNumber(e)?e<t.options.current_page?(console.error("jqPagination: max_page lower than current_page"),!1):(t.options.max_page=e,t.$input.data("max-page",e),void t.updateInput(a)):(console.error("jqPagination: max_page is not a number"),!1)},t.updateInput=function(e){var a=parseInt(t.options.current_page,10);t.setInputValue(a),t.setLinks(a),!0!==e&&t.options.paged(a)},t.setInputValue=function(e){var a=t.options.page_string,n=t.options.max_page;a=a.replace("{current_page}",e).replace("{max_page}",n),t.$input.val(a)},t.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},t.setLinks=function(e){var a=t.options.link_string,n=parseInt(t.options.current_page,10),i=parseInt(t.options.max_page,10);if(""!==a){var r=n-1;r<1&&(r=1);var o=n+1;o>i&&(o=i),t.$el.find("a.first").attr("href",a.replace("{page_number}","1")),t.$el.find("a.prev, a.previous").attr("href",a.replace("{page_number}",r)),t.$el.find("a.next").attr("href",a.replace("{page_number}",o)),t.$el.find("a.last").attr("href",a.replace("{page_number}",i))}t.$el.find("a").removeClass("disabled"),n===i&&t.$el.find(".next, .last").addClass("disabled"),1===n&&t.$el.find(".previous, .first").addClass("disabled")},t.callMethod=function(a,n,i){switch(a.toLowerCase()){case"option":if(void 0===i&&"object"!=typeof n)return t.options[n];var r={trigger:!0},o=!1;e.isPlainObject(n)&&!i?e.extend(r,n):r[n]=i;var p=!1===r.trigger;return void 0!==r.current_page&&(o=t.setPage(r.current_page,p)),void 0!==r.max_page&&(o=t.setMaxPage(r.max_page,p)),!1===o&&console.error("jqPagination: cannot get / set option "+n),o;case"destroy":t.$el.off(".jqPagination").find("*").off(".jqPagination");break;default:return console.error('jqPagination: method "'+a+'" does not exist'),!1}},t.init()},e.jqPagination.defaultOptions={current_page:1,link_string:"",max_page:null,page_string:"Page {current_page} of {max_page}",paged:function(){}},e.fn.jqPagination=function(){var a=e(this),n=Array.prototype.slice.call(arguments),t=!1;if("string"==typeof n[0])return void 0===n[2]?t=a.first().data("jqPagination").callMethod(n[0],n[1]):a.each(function(){t=e(this).data("jqPagination").callMethod(n[0],n[1],n[2])}),t;this.each(function(){new e.jqPagination(this,n[0])})}}(jQuery),!console){var console={},func=function(){return!1};console.log=func,console.info=func,console.warn=func,console.error=func}
